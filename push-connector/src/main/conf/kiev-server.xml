<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns:context="http://www.springframework.org/schema/context"
	   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	   xmlns:kiev="http://www.meizu.com/kiev/schema/service"
	   xmlns="http://www.springframework.org/schema/beans" xmlns:redisson="http://redisson.org/schema/redisson"
	   xsi:schemaLocation="http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans.xsd
	 http://www.springframework.org/schema/context
	 http://www.springframework.org/schema/context/spring-context.xsd
	 http://www.meizu.com/kiev/schema/service
	 http://www.meizu.com/kiev/schema/service.xsd
	 http://redisson.org/schema/redisson
	 http://redisson.org/schema/redisson/redisson.xsd">

	<context:component-scan base-package="com.comsince.github"/>

	<context:property-placeholder location="classpath*:setting.properties"/>

	<kiev:registry url="${kiev.zookeeper.url}" />
	<kiev:application appName="${kiev.application.name}" phones="123456789"/>
	<kiev:server syncThreadPool="1024" asyncThreadPool="1024" port="6419" />

	<kiev:service ref="pushServiceImpl" id="pushService"
				  node="/comsince/github/pushconnector" type="TCP" />

	<kiev:client loadbalancer="roundrobin" timeout="3000"/>
	<!--订阅服务 -->
	<kiev:stub id="subService" interface="com.comsince.github.sub.SubService"  node="/comsince/github/sub" timeout="3000"/>

	<bean id="pushServerStarter" class="com.comsince.github.PushServerStarter" init-method="init"/>

	<redisson:client id="redissonClient">
		<redisson:single-server address="redis://172.16.46.213:6379"/>
	</redisson:client>
</beans>
