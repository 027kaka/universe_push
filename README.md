# 统一推送架构
统一推送架构设计分析演示项目
基于分布式的推送系统设计与分析

# push网关

## push-connector

* 提供集群链接管理的能力
* 提供消息群发的功能
* 提供消息单发的功能
* 客户端管理服务

## 消息路由
提供消息网关集群部署，此时需要针对消息就行路由，发送到合适的网关链接服务器进行推送

## 消息长连接
二进制消息格式或者json消息格式定义  
心跳保持

# 相关技术

## 长连接服务
* [T-io]()

## 微服务框架

# 模块依赖关系说明
## tio-core  网络链接核心模块
## push-common 公共库
## push-connector 链接网关
链接网关尽量逻辑简单，只提供链接功能，维护客户端的链接关系，对于群组的维护可以在推送业务层去处理
### 提供链接网关
### 提供RPC接口,方便发送推送消息
### 提供集群部署方案
集群方案可能出现以下问题
* 集群模式如何给单个用户推送消息
因为不同用户可能链接不同的push-connector,所以推送的时候首先要找到这个用户所链接的connector，然后再向其推送消息
* 群推送
给某一用户组推送，可以根据用户id找到其所在的网络，然后在调远程接口进行推送，这种方式需要维护一个链接关系表
* 消息发布订阅模型
客户端与connector的映射关系可以在redis中维护，可以采用redis的发布订阅模型通知其他connector进行后续操作

## push-connector-client 测试客户端